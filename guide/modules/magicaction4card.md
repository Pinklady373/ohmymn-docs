# MagicAction for Card
一些与卡片相关的动作，其实就是按钮，先选中卡片（可以多选），再点击按钮。其他模块的也会有一些动作，都会集中显示在这里。
### 智能选择
当你选中一个有子节点的卡片或者选中多个同层级并且均有子节点的卡片，此时 OhMyMN 会弹出菜单，询问是否选中子节点或者后代节点，这可以用于快速批量选中。

![](https://testmnbbs.oss-cn-zhangjiakou.aliyuncs.com/pic20220521005544.png?x-oss-process=base_webp)

[相关概念](../fundation/concept.md#2-卡片节点父子卡片父子节点祖先卡片祖先节点后代卡片后代节点)
![](https://testmnbbs.oss-cn-zhangjiakou.aliyuncs.com/pic20220521005122.png?x-oss-process=base_webp)
### 配置管理
可以将 OhMyMN 的配置信息写入卡片中，也可以从卡片中读取配置。

写入时请确保选中的卡片至少有 1 张子卡片，理论上子卡片越多越好，避免超过单张卡片的最大字数。写入卡片后，还可以打开 [OhMyMN->自动备份配置](../fundation//../modules/ohmymn.md#自动备份配置)。

读取配置会覆盖掉当前的配置信息，可以单独读取全局配置，笔记本配置，或者文档配置。

### 筛选卡片
输入格式：[正则表达式](../advance/custom.md#正则表达式)

可以单独筛选标题，摘录，评论，标签。筛选后还可以继续使用其他动作。

虽然 OhMyMN 的选中和 MN 的选中不一样，无法使用删除，剪切的功能。不过办法总是有的，你可以把选中的卡片设置为一个特殊的颜色，再通过颜色筛选，即可快速重新选中。

### 合并卡片
MN 自带的合并功能实在鸡肋，不但无法合并标题，还会把标题作为评论合并进卡片。 该功能解决了三个问题：
1. 合并标题。
2. 其它卡片标题不作为评论。
3. 合并标签。

### 重命名标题
OhMyMN 中最强大的功能前三吧，用于批量对卡片重命名，编号，分层编号。

输入格式：[replace 函数](../advance/custom.md#replace-函数)

由于大多数情况下是匹配整个标题，所以默认的正则就是 `/^.*$/`，你只需要输入新的标题即可，还可以用 `$&` 来引用当前标题。

1. 如何输入编号?

@video[https://www.bilibili.com/video/BV1sP4y1A7mE](https://video-direct-link.vercel.app/bili.mp4?aid=893683501&bvid=BV1sP4y1A7mE&cid=499980330)

- `%['1']`  &  `%['1', 1]`  数字编号，从 1 开始，步长为 1，步长就是间隔，步长 1 为默认值。
    - `%['000000001']`  前面填充多少个 0 都行。
    - `%['1', 2]`  步长为 2，也就是 1 3 5 7 9。
- 字符编号
    - `%['②']` 或 `%['②',1]` ，表示从 `②` 开始，步长为 1，其余字符也是一样。如果编号不够，则从头开始。
    - 自带的字符编号，使用时直接复制即可。
        - `①②③④⑤⑥⑦⑧⑨⑩⑪⑫⑬⑭⑮⑯⑰⑱⑲⑳㉑㉒㉓㉔㉕㉖㉗㉘㉙㉚㉛㉜㉝㉞㉟㊱㊲㊳㊴㊵㊶㊷㊸㊹㊺㊻㊼㊽㊾㊿`
        - `❶❷❸❹❺❻❼❽❾❿⓫⓬⓭⓮⓯⓰⓱⓲⓳⓴`
        - `ABCDEFGHIJKLMNOPQRSTUVWXYZ`
        - `abcdefghijklmnopqrstuvwxyz`
        - `壹贰叁肆伍陆柒捌玖拾`
        - `一二三四五六七八九十`
        - `ⅠⅡⅢⅣⅤⅥⅦⅧⅨⅩ`
        - `ⅰⅱⅲⅳⅴⅵⅶⅷⅸⅹ`
- `%['一', '二', '三', '四', '五']`  自定义编号，全部为字符串，最少两个。

2. 如何分层编号？

@video[https://www.bilibili.com/video/BV1WY411t7vC](https://video-direct-link.vercel.app/bili.mp4?aid=253632393&bvid=BV1WY411t7vC&cid=499975972)

:::warning
分层编号是对其所有后代节点进行编号，自身不会编号。使用时请确保该卡片至少有子节点。如果选中多张卡片，必须确保是同一层级，且全部都具有子节点。并且是分开进行编号，自身不会编号。
:::

- `#['1']` 即可达到上面的效果。`$&` 表示原标题。
- 完整版 `#['1','1','1','1',['.',4]]`
    - 表示第一层级从 `1` 开始，第二层级从 `1` 开始，第三和第四层级也是从 `1` 开始。如果之后还有层级，默认使用提供的最后一个初始值，也就是 `1`。你可以设置无限多层级。
    - 最后的 `['.',4]` 是用来设置连接符和最大层级，默认为 `['.',无穷大]` 。均可省略，使用时必须放数组里，字符表示连接符，数字表示最大层级。最大层级的作用就是如果一共有 5 层，最大层级设置为 4，那第 5 层就不会被编号，通常只需要编 3 层即可。
- 上面的数字编号和字符编号均可使用，但不支持自定义编号，不支持设置步长。

**输入示例：**
1. 在现有标题前加编号：`%["1"] $&`
2. 在现有标题前分层加编号： `#["1"] $&`

### 合并卡片文字

默认为 **没有分隔符**，也就是为空。可以在 **合并文字的分隔符** 中设置分隔符号，

**输入示例：**

1. `\n` ：换行，如果想有间距，就换两次行 `\n\n` 。
2. `\n————\n` ：用 ———— 隔开两行。

**选项：**

- 合并为摘录：摘录可以使用 MagicAction 中的功能进行进一步操作，同时会保留重点。
- 合并为评论：评论才可以显示标签。